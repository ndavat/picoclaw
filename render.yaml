services:
  - type: web
    name: picoclaw-openrouter
    env: docker
    branch: render-openrouter-deploy
    dockerfilePath: Dockerfile.render
    plan: free
    autoDeploy: true
    # Ensure PicoClaw uses OpenRouter model and provider rather than the default glm-4.7
    envVars:
      - key: MODEL_NAME
        value: openrouter/auto
      - key: PORT
        value: "8080"
      - key: PICOCLAW_AGENTS_DEFAULTS_MODEL
        value: openrouter/auto
      - key: PICOCLAW_AGENTS_DEFAULTS_PROVIDER
        value: openrouter
    # Start the lightweight render server binary (avoid running full `picoclaw` gateway)
    startCommand: "/usr/local/bin/picoclaw-render"
    routes:
      - type: web
