services:
  - type: web
    name: picoclaw-openrouter
    env: docker
    branch: render-openrouter-deploy
    dockerfilePath: Dockerfile.render
    plan: free
    autoDeploy: true
    # Ensure PicoClaw uses OpenRouter model and provider rather than the default glm-4.7
    envVars:
      - key: MODEL_NAME
        value: openrouter/auto
      - key: PORT
        value: "8080"
      - key: TZ
        value: America/Chicago
      - key: PICOCLAW_AGENTS_DEFAULTS_MODEL
        value: openrouter/auto
      - key: PICOCLAW_AGENTS_DEFAULTS_PROVIDER
        value: openrouter
      # Secrets â€” set these in the Render dashboard (do NOT store real keys in repo)
      - key: OPENROUTER_API_KEY
        value: "<set-in-render-dashboard>"
      - key: TELEGRAM_BOT_TOKEN
        value: "<set-in-render-dashboard>"
    # Start the lightweight render server binary (avoid running full `picoclaw` gateway)
    startCommand: "/usr/local/bin/picoclaw-render"
    routes:
      - type: web
